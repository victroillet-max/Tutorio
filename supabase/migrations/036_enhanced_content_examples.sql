-- ============================================
-- Migration 036: Enhanced Content Examples
-- This migration updates sample lessons to use the new enhanced markdown syntax
-- with custom blocks for concept, example, tip, warning, quickcheck, and takeaways
-- ============================================

-- Update the "Welcome to CT" lesson with enhanced content blocks
UPDATE activities 
SET content = '{"markdown": "# Welcome to Computational Thinking\n\n:::concept{title=\"Why This Matters\"}\nImagine you''re the general manager of a luxury hotel. A guest complains that their room wasn''t ready on time, breakfast was cold, and the spa appointment was double-booked. How do you solve all these problems efficiently?\n\nThis is exactly what computational thinking teaches you: **a systematic way to break down complex problems into manageable pieces and solve them effectively.**\n:::\n\n> \"Computational thinking is a fundamental skill for everyone, not just for computer scientists.\" - Jeannette M. Wing, Columbia University\n\n---\n\n## What is Computational Thinking?\n\n:::definition\n**Computational thinking (CT)** is a problem-solving approach that uses concepts from computer science to tackle challenges in any field. It''s not about thinking like a computer—it''s about thinking in a way that even a computer could follow.\n:::\n\nThink of CT as a **mental toolkit**. Just like a chef has knives, pans, and techniques, computational thinkers have strategies for:\n- Breaking problems apart\n- Finding patterns\n- Focusing on what matters\n- Creating step-by-step solutions\n\n---\n\n## Real-World Analogy: Running a Hotel\n\n:::example{title=\"Decomposition in Action\"}\nImagine you need to plan the opening of a new hotel:\n\n| Main Task | Sub-Tasks |\n|-----------|-----------|\n| **Hotel Opening** | Staffing, Marketing, Supplies, Training |\n\nYou naturally **decompose** the big task into smaller ones. That''s computational thinking!\n:::\n\n---\n\n## What You''ll Learn in This Course\n\n| Module | Topic | What You''ll Master |\n|--------|-------|---------------------|\n| 1-2 | CT Foundations | The four pillars of problem-solving |\n| 3 | Algorithms | Designing step-by-step solutions |\n| 4-6 | Python Basics | Variables, data types, decisions |\n| 7-9 | Data & Loops | Collections and repetition |\n| 10-12 | Functions & OOP | Reusable, organized code |\n| 13-15 | Debugging & Review | Writing robust code |\n\n---\n\n## Why Hospitality Professionals Need CT\n\n:::example{title=\"Revenue Management\"}\nA hotel manager uses patterns (weekends vs. weekdays, seasons, events) to set optimal room prices. This is **pattern recognition** in action.\n:::\n\n:::example{title=\"Guest Experience\"}\nWhen a VIP guest arrives, the front desk follows a checklist: greet by name, escort to room, offer amenities. This is an **algorithm**.\n:::\n\n---\n\n:::quickcheck\nQ: What is computational thinking primarily about?\n- [ ] Only writing computer code\n- [x] A problem-solving process using computer science concepts\n- [ ] Building computers\n- [ ] Mathematical calculations\n---\nComputational thinking is a problem-solving process that applies to many fields beyond just coding.\n:::\n\n---\n\n## Common Misconceptions\n\n:::warning{title=\"Don''t Fall for These Myths\"}\n| Myth | Reality |\n|------|--------|\n| \"CT is only for programmers\" | CT is used in medicine, law, business, arts |\n| \"You need math skills\" | CT is about logical thinking, not calculations |\n| \"Computers do the thinking\" | YOU do the thinking; computers execute |\n:::\n\n---\n\n:::tip\n**Start simple** — Even experts break problems into tiny pieces. Write things down and look for patterns in every problem you encounter.\n:::\n\n---\n\n:::takeaways\n- Computational thinking is a systematic problem-solving approach\n- It works in ANY field, not just technology\n- Four pillars: Decomposition, Pattern Recognition, Abstraction, Algorithms\n- This course builds from concepts to Python programming\n:::\n\nReady to discover the four pillars? Let''s continue!"}'::jsonb
WHERE slug = 'welcome-to-ct' AND type = 'lesson';

-- Update "What is Computational Thinking?" with enhanced content
UPDATE activities 
SET content = '{"markdown": "# What is Computational Thinking?\n\n:::concept{title=\"Why This Matters\"}\nEvery day, you solve dozens of problems without realizing it: choosing the fastest route to class, deciding what to order for lunch, or figuring out how to fit all your activities into your schedule. \n\n**Computational thinking gives you a structured approach to tackle even the trickiest problems.**\n:::\n\n---\n\n## The Definition\n\n:::definition\n**Computational Thinking (CT)** is a set of problem-solving methods that involve expressing problems and their solutions in ways that a computer—or a human following precise instructions—could execute.\n:::\n\n### Breaking Down the Definition\n\n1. **Problem-solving methods** — It''s a toolkit, not a single technique\n2. **Expressing problems** — You learn to describe problems clearly\n3. **Solutions that can be executed** — Your solutions are actionable, not vague\n\n---\n\n## The Hotel Check-In Analogy\n\n:::example{title=\"Training a New Employee\"}\nImagine you''re training a new front desk employee. You can''t just say \"check guests in.\" You need to explain step by step:\n\n1. Greet the guest warmly\n2. Ask for reservation name or confirmation number\n3. Verify ID matches reservation\n4. **IF** room is ready → Assign room, provide key cards\n5. **ELSE** → Offer luggage storage, suggest amenities\n6. Explain breakfast hours and WiFi password\n7. Wish guest a pleasant stay\n\nThis is computational thinking: a clear, step-by-step process anyone can follow.\n:::\n\n---\n\n## The Four Pillars of CT\n\nComputational thinking rests on **four foundational strategies**:\n\n| Pillar | What It Does | Hotel Example |\n|--------|--------------|---------------|\n| **Decomposition** | Breaks big problems into small ones | Planning a conference = venue + catering + AV + registration |\n| **Pattern Recognition** | Finds similarities | \"VIP guests always request early check-in\" |\n| **Abstraction** | Hides unnecessary details | A reservation system only shows available rooms |\n| **Algorithms** | Creates step-by-step solutions | The exact check-in procedure |\n\n---\n\n## Worked Example: Planning a Trip\n\n:::example{title=\"Paris Weekend Trip\"}\n**Problem:** You need to plan a weekend trip to Paris.\n\n### Using the Four Pillars:\n\n**1. Decomposition**\n- Transportation (flights, trains)\n- Accommodation (hotel, Airbnb)\n- Activities (museums, restaurants)\n- Budget (costs, payments)\n\n**2. Pattern Recognition**\n- \"Last time I traveled, booking early saved 30%\"\n- \"Museums are less crowded in the morning\"\n\n**3. Abstraction**\n- Focus on: dates, prices, locations\n- Ignore: airline fuel costs, hotel staff schedules\n\n**4. Algorithm**\nStep 1: Set dates → Step 2: Book transport → Step 3: Book hotel → Step 4: Plan activities\n:::\n\n---\n\n:::quickcheck\nQ: A hotel manager breaks down ''planning a conference'' into venue, catering, speakers, and registration. Which CT pillar is this?\n- [ ] Pattern Recognition\n- [ ] Abstraction\n- [x] Decomposition\n- [ ] Algorithm\n---\nThis is DECOMPOSITION — breaking a complex problem (conference planning) into smaller, manageable parts.\n:::\n\n---\n\n## Common Mistakes\n\n:::warning{title=\"Avoid These Pitfalls\"}\n**Jumping to Solutions**\n\"I''ll just figure it out as I go\" → Take time to decompose and plan first\n\n**Over-Complicating**\nCreating 50-step processes for simple tasks → Keep it as simple as possible (abstraction!)\n\n**Ignoring Patterns**\nTreating every problem as completely new → Look for similarities to problems you''ve solved before\n:::\n\n---\n\n:::tip\n**Start with the end goal** — Know what success looks like before decomposing. Use visual aids like diagrams and flowcharts to clarify your thinking.\n:::\n\n---\n\n:::takeaways\n- CT = Problem-solving methods that produce executable solutions\n- Four pillars: Decomposition, Pattern Recognition, Abstraction, Algorithms\n- CT applies to ALL fields, not just technology\n- The pillars work together, not in isolation\n:::\n\n**Memory Hook:** Think of CT as a **recipe for problem-solving**:\n- **Decomposition** = List the ingredients\n- **Pattern Recognition** = Use techniques that worked before\n- **Abstraction** = Focus on key steps, skip minor details\n- **Algorithm** = Follow the recipe steps in order"}'::jsonb
WHERE slug = 'what-is-computational-thinking' AND type = 'lesson';

-- Update the "Four Pillars" lesson with enhanced content
UPDATE activities 
SET content = '{"markdown": "# The Four Pillars of Computational Thinking\n\n:::concept{title=\"The Foundation of Problem-Solving\"}\nJust as a building needs strong pillars to stand, computational thinking rests on **four foundational strategies** that work together to help you solve any problem systematically.\n:::\n\n---\n\n## Overview of the Four Pillars\n\n| Pillar | Core Question | One-Line Definition |\n|--------|---------------|---------------------|\n| **Decomposition** | \"How can I break this down?\" | Divide complex problems into smaller parts |\n| **Pattern Recognition** | \"Have I seen this before?\" | Find similarities and recurring themes |\n| **Abstraction** | \"What really matters here?\" | Focus on essential details, ignore the rest |\n| **Algorithms** | \"What are the steps?\" | Create clear, ordered instructions |\n\n---\n\n## Pillar 1: Decomposition\n\n:::definition\n**Decomposition** is the process of breaking down a complex problem or system into smaller, more manageable parts.\n:::\n\n:::example{title=\"Planning a Wedding Reception\"}\nInstead of thinking \"plan the wedding,\" break it down:\n\n- **Venue:** Location, capacity, accessibility\n- **Catering:** Menu, dietary restrictions, service style\n- **Entertainment:** Music, dancing, activities\n- **Logistics:** Parking, timeline, seating\n- **Decor:** Flowers, lighting, table settings\n:::\n\n---\n\n## Pillar 2: Pattern Recognition\n\n:::definition\n**Pattern Recognition** is identifying similarities, trends, or regularities within problems or across different problems.\n:::\n\n:::example{title=\"Hotel Booking Patterns\"}\nA hotel manager notices:\n- Weekends have 30% higher occupancy\n- Business travelers book Tuesday-Thursday\n- Holidays require 2-week advance booking\n\nUsing these patterns, they can predict demand and adjust pricing.\n:::\n\n---\n\n## Pillar 3: Abstraction\n\n:::definition\n**Abstraction** is the process of filtering out unnecessary details to focus on what''s essential to solving the problem.\n:::\n\n:::example{title=\"A Subway Map\"}\nA subway map is a perfect example of abstraction:\n- **Shows:** Station names, line colors, connections\n- **Hides:** Actual distances, street layouts, building locations\n\nThe map focuses only on what riders need to navigate the system.\n:::\n\n---\n\n## Pillar 4: Algorithms\n\n:::definition\n**An Algorithm** is a step-by-step set of instructions designed to perform a specific task or solve a particular problem.\n:::\n\n:::example{title=\"Morning Coffee Algorithm\"}\n1. Check if coffee machine has water\n2. IF no water → Fill water tank\n3. Add coffee grounds to filter\n4. Press start button\n5. Wait for brewing to complete\n6. Pour coffee into mug\n7. Add cream and sugar (optional)\n:::\n\n---\n\n:::quickcheck\nQ: Which pillar involves hiding unnecessary details to focus on what matters?\n- [ ] Decomposition\n- [ ] Pattern Recognition\n- [x] Abstraction\n- [ ] Algorithms\n---\nAbstraction is about focusing on essential information while hiding unnecessary complexity.\n:::\n\n---\n\n## How the Pillars Work Together\n\n:::concept{title=\"An Integrated Approach\"}\nThe four pillars aren''t used in isolation—they work together:\n\n1. **Decompose** the problem into parts\n2. **Recognize patterns** in those parts\n3. **Abstract** away unnecessary details\n4. Create an **algorithm** to solve each part\n5. Combine solutions for the complete answer\n:::\n\n---\n\n:::tip\nYou don''t always use all four pillars, and you don''t always use them in order. Think of them as tools in a toolbox—pick the right one for the job!\n:::\n\n---\n\n:::takeaways\n- **Decomposition**: Break big problems into smaller pieces\n- **Pattern Recognition**: Find similarities and trends\n- **Abstraction**: Focus on what matters, ignore the rest\n- **Algorithms**: Create step-by-step solutions\n- The pillars work together and can be used in any order\n:::"}'::jsonb
WHERE slug = 'the-four-pillars' AND type = 'lesson';
